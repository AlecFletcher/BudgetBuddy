<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Budget_Buddy.BillDebtReport"
             xmlns:models="clr-namespace:Budget_Buddy.Models"
             Loaded="ContentPage_Loaded">
    <ScrollView>

        <VerticalStackLayout>
            <Grid ColumnDefinitions="4*,1*,3*" Margin="20,0" RowDefinitions="80,50">
                <Label Text="All bills and debts" Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="3" HorizontalOptions="Center" FontSize="35" FontAttributes="Bold"/>
                <Label Text="Search:" Grid.Column="1" Grid.Row="1" VerticalOptions="Center"/>
                <Border Grid.Column="2" Grid.Row="1">
                    <Entry x:Name="search_entry" TextChanged="search_text_changed" VerticalOptions="Center"/>
                </Border>

            </Grid>

            <Grid ColumnDefinitions="3*,2*,2*" RowDefinitions="80" >
                <Label  Text="Name"
                        FontAttributes="Bold"
                        Margin="20,0"
                        Grid.Column="0"
                        FontSize="20"
                        HorizontalTextAlignment="Center"
                        VerticalOptions="Center"/>

                <Label  Text="Price"
                        FontAttributes="Bold"
                        Grid.Column="1"
                        FontSize="20"
                        VerticalOptions="Center"
                        HorizontalTextAlignment="Center"/>

                <Label  Text="Due Day"
                        FontAttributes="Bold"
                        Grid.Column="2"
                        FontSize="20"
                        HorizontalTextAlignment="Center"
                        VerticalOptions="Center"/>

            </Grid>

            <CollectionView x:Name="bills_collectionview">
                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="models:Bill">
                        <Grid ColumnDefinitions="3*,2*,2*" RowDefinitions="70" >
                            <Label  Text="{Binding Name, Mode=TwoWay}"
                                    Margin="20,0"
                                    Grid.Column="0"
                                    FontSize="20"
                                    HorizontalTextAlignment="Center"
                                    VerticalOptions="Center"/>

                            <Label Text="{Binding Price,Mode=TwoWay}"
                                    Grid.Column="1"
                                    FontSize="20"
                                    VerticalOptions="Center"
                                    HorizontalTextAlignment="Center"/>

                            <Label Text="{Binding DueDay, Mode=TwoWay}"
                                    Grid.Column="2"
                                    FontSize="20"
                                    HorizontalTextAlignment="Center"
                                    VerticalOptions="Center"/>

                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

        </VerticalStackLayout>

    </ScrollView>
</ContentPage>